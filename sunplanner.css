@charset "UTF-8";
:root{--accent:#e94244;--ring-bg:#e5e7eb;}
*{box-sizing:border-box}
.sunplanner-wrap{width:100%}

.sunplanner{font-family:system-ui,Segoe UI,Roboto,Arial,sans-serif;color:#111;line-height:1.45}
.sunplanner-share{min-height:60vh}
@supports (min-height: 60svh){
  .sunplanner-share{min-height:60svh}
}
.sunplanner-share__inner{margin:0 auto;max-width:1200px;padding:2rem 1rem}
.sunplanner-share__header{text-align:center;margin-bottom:2rem}
.sunplanner-share__badge{display:inline-block;padding:.35rem .75rem;border-radius:999px;background:#fef3c7;color:#92400e;font-weight:600;text-transform:uppercase;letter-spacing:.08em;font-size:.75rem}
.sunplanner-share__title{margin:.85rem 0 .4rem;font-size:2rem;font-weight:700;color:#0f172a}
.sunplanner-share__desc{margin:0 auto;max-width:640px;color:#475569;font-size:1rem}
.sunplanner-share__desc a{color:inherit;text-decoration:underline}

.row{display:flex;gap:.6rem;flex-wrap:wrap;margin:.6rem 0}
.rowd{display:flex;justify-content:space-between;align-items:center;margin:.25rem 0}
.col{display:flex;flex-direction:column}
.input{flex:1;min-width:180px;padding:.55rem .7rem;border:1px solid #d1d5db;border-radius:.5rem;font-size:1rem}
.input.input-error{border-color:#f87171;box-shadow:0 0 0 1px rgba(248,113,113,.35)}

.btn{padding:.55rem .9rem;border-radius:.5rem;border:1px solid var(--accent);background:var(--accent);color:#fff;cursor:pointer;transition:all .18s ease;font-weight:600;box-shadow:0 2px 6px rgba(233,66,68,.18)}
.btn:hover,.btn:focus-visible{transform:translateY(-1px);box-shadow:0 8px 18px rgba(233,66,68,.25)}
.btn:focus-visible{outline:3px solid rgba(233,66,68,.35);outline-offset:2px}
.btn.secondary{background:#fff;color:#111;border-color:#d1d5db;box-shadow:0 2px 6px rgba(17,24,39,.12)}
.btn.secondary:hover,.btn.secondary:focus-visible{border-color:var(--accent);box-shadow:0 8px 18px rgba(233,66,68,.18);color:#991b1b}
.btn.ghost{background:transparent;border:1px solid #d1d5db;color:#111;box-shadow:none}
.btn.ghost:hover,.btn.ghost:focus-visible{border-color:var(--accent);color:#991b1b}
.banner{background:#fee2e2;color:#991b1b;border:1px solid #fecaca;padding:.5rem .75rem;border-radius:.5rem;margin:.5rem 0}
#planner-map{width:100%;min-height:440px;border-radius:12px;box-shadow:0 6px 16px rgba(0,0,0,.08);overflow:hidden;overscroll-behavior:contain}
.cards{display:grid;grid-template-columns:1fr;gap:1rem;margin-top:1rem}
.card{background:#fff;border-radius:12px;box-shadow:0 4px 14px rgba(0,0,0,.07);padding:1rem}
.card.inner{box-shadow:none;border:1px solid #e5e7eb;border-radius:12px;background:#fff}
.session-summary{margin:.6rem 0 1rem;padding:.85rem 1rem;border-radius:12px;background:#f8fafc;border:1px solid #e2e8f0;color:#1e293b;font-size:.95rem;line-height:1.5;box-shadow:inset 0 1px 0 rgba(255,255,255,.7)}
.session-summary strong{display:block;font-size:1.05rem;margin-bottom:.3rem;color:#0f172a}
.session-summary__lead{display:block;margin-bottom:.45rem;font-weight:500}
.session-summary__slots{margin-bottom:.4rem;font-size:.93rem}
.session-summary__slots span{display:block;margin:.2rem 0}
.session-summary__future{border-top:1px dashed #cbd5f5;padding-top:.5rem;margin-top:.5rem;font-size:.92rem}
.session-summary__future-list{margin:.35rem 0 0;display:flex;flex-direction:column;gap:.45rem}
.session-summary__future-item{position:relative;display:grid;grid-template-columns:minmax(0,auto) minmax(0,1fr);column-gap:.75rem;row-gap:.2rem;padding:.45rem .65rem .45rem 1.75rem;border-radius:12px;background:#f1f5f9;box-shadow:inset 0 1px 0 rgba(255,255,255,.6)}
.session-summary__future-item::before{content:"";position:absolute;left:.85rem;top:.85rem;width:.35rem;height:.35rem;border-radius:50%;background:#1d4ed8;box-shadow:0 0 0 4px rgba(37,99,235,.12)}
.session-summary__future-day{font-weight:700;color:#1e293b;text-transform:capitalize;letter-spacing:.02em}
.session-summary__future-desc{color:#334155;line-height:1.4}
@media(max-width:600px){
  .session-summary__future-item{grid-template-columns:minmax(0,1fr);padding-left:1.5rem}
  .session-summary__future-desc{grid-column:1/-1;font-size:.88rem}
}
.session-summary__tag{display:inline-flex;align-items:center;gap:.25rem;padding:.1rem .45rem;border-radius:999px;background:#e0f2fe;color:#0c4a6e;font-size:.8rem;font-weight:600;text-transform:uppercase;letter-spacing:.04em}
.location-insights{margin-top:1rem;padding:1rem;border-radius:12px;background:#f8fafc;border:1px solid #e2e8f0;box-shadow:inset 0 1px 0 rgba(255,255,255,.7)}
.location-insights h3{margin-top:0;margin-bottom:.35rem;font-size:1.1rem;font-weight:700;color:#0f172a}
.location-insights__grid{display:grid;gap:.9rem}
.location-insights__section h4{margin:0 0 .3rem;font-size:1rem;font-weight:600;color:#1e293b}
.location-insights__section p{margin:.2rem 0;font-size:.9rem}
.location-insights__status{display:inline-flex;align-items:center;gap:.3rem;padding:.25rem .55rem;border-radius:999px;font-size:.78rem;font-weight:600;text-transform:uppercase;letter-spacing:.04em}
.location-insights__status--paid{background:#fee2e2;color:#b91c1c}
.location-insights__status--free{background:#dcfce7;color:#166534}
.location-insights__status--restricted{background:#fef3c7;color:#92400e}
.location-insights__status--unknown{background:#e5e7eb;color:#374151}
.location-insights__note{font-size:.82rem;color:#6b7280;margin-top:.25rem}
.route-card{margin-top:1rem;display:flex;flex-direction:column;gap:1rem}
.route-card .alt-heading{margin:0}
.grid2{display:grid;grid-template-columns:1fr;gap:.8rem}
.golden-block{display:flex;flex-direction:column;gap:1rem;margin-top:1rem}
.glow-info{flex:none;width:100%;min-width:0;background:linear-gradient(135deg,rgba(253,230,138,.85),rgba(253,186,116,.85));border-radius:16px;padding:1rem;color:#78350f;display:flex;flex-direction:column;justify-content:center;align-items:flex-start;gap:.35rem;box-shadow:0 4px 14px rgba(253,186,116,.25);margin-top:.75rem}
.glow-info.align-right{background:linear-gradient(135deg,rgba(191,219,254,.85),rgba(147,197,253,.85));color:#1e3a8a;text-align:right;align-items:flex-end}
.glow-info h4{margin:0;font-size:1rem;font-weight:600}
.glow-line{margin:0;font-size:.95rem;font-weight:600;line-height:1.35;text-shadow:0 1px 0 rgba(255,255,255,.45);letter-spacing:.01em}
@media(min-width:980px){.cards{grid-template-columns:1fr}.grid2{grid-template-columns:1fr 1fr}}
.muted{color:#6b7280;font-size:.9rem}
.badge{margin:.35rem 0;padding:.25rem .5rem;background:#f3f4f6;border-radius:6px;display:inline-block;font-size:.85rem;color:#374151}

.kpi{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:.25rem .8rem;margin-top:.35rem}
.waypoint{display:flex;justify-content:space-between;align-items:center;border:1px dashed #d1d5db;border-radius:10px;padding:.45rem .6rem;margin:.35rem 0}
.ring{width:56px;height:56px;position:relative}
.ring .text{position:absolute;inset:0;display:grid;place-items:center;font-weight:600;font-size:.85rem}
.slider{width:100%}
#sp-gallery{display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:8px}
#sp-gallery a{display:block;border-radius:8px;overflow:hidden}
#sp-gallery img{width:100%;display:block}
.smallcanvas{width:100%;height:130px;border:1px solid #e5e7eb;border-radius:8px}

.toolbar{display:flex;gap:.5rem;flex-wrap:wrap;align-items:center}
.switch{display:inline-flex;align-items:center;gap:.5rem;padding:.35rem .75rem;border:1px solid #d1d5db;border-radius:999px;background:#fff;cursor:pointer;transition:all .18s ease;box-shadow:0 2px 8px rgba(30,64,175,.12);position:relative}
.switch:hover{border-color:#2563eb;box-shadow:0 10px 20px rgba(37,99,235,.18)}
.switch:focus-within{outline:3px solid rgba(37,99,235,.35);outline-offset:2px}
.switch input{position:absolute;inset:0;opacity:0;pointer-events:none}
.switch-pill{width:42px;height:22px;border-radius:999px;background:#e0e7ff;position:relative;transition:all .18s ease}
.switch-pill::after{content:"";position:absolute;top:2px;left:2px;width:18px;height:18px;border-radius:50%;background:linear-gradient(135deg,#bfdbfe,#60a5fa);box-shadow:0 2px 6px rgba(15,23,42,.25);transition:all .2s ease}
.switch-label{font-size:.9rem;color:#1f2937;font-weight:600;display:inline-flex;align-items:center;gap:.35rem}
.switch-label::before{content:"☔";font-size:1.05rem;line-height:1}
.switch input:checked+.switch-pill{background:#bfdbfe}
.switch input:checked+.switch-pill::after{transform:translateX(20px);background:linear-gradient(135deg,#2563eb,#1d4ed8)}
.switch input:checked~.switch-label::before{content:"🌧️"}
.switch input:checked~.switch-label{color:#1e3a8a}
.legend{display:flex;gap:10px;align-items:center;font-size:.85rem;color:#374151}
.legend > span{display:inline-flex;align-items:center;gap:6px}
.legend i{display:inline-block;width:12px;height:12px;border-radius:2px;background:#e5e7eb}
.legend .c1 i{background:#e94244}
.legend .c2 i{background:#1e3a8a}
.legend .c3 i{background:#6b7280}
.route-options{display:flex;gap:.45rem;flex-wrap:wrap;margin:.45rem 0}
.route-option{flex:1;min-width:170px;padding:.6rem .75rem;border:1px solid #d1d5db;border-radius:.7rem;background:#f9fafb;color:#111;text-align:left;cursor:pointer;transition:all .18s ease}
.route-option strong{display:block;font-size:1rem;margin-bottom:.2rem}
.route-option span{display:block;font-size:.85rem;color:#4b5563}
.route-option small{display:block;font-size:.75rem;color:#6b7280;margin-top:.2rem}
.route-option:hover{border-color:var(--accent);box-shadow:0 6px 18px rgba(233,66,68,.15)}
.route-option.active{border-color:var(--accent);background:#fef2f2;color:#991b1b}
#sp-short-status{margin-top:.75rem;font-size:.95rem;font-weight:700;color:#111}
#sp-short-status strong{margin-right:.35rem}
.share-row .btn{flex:1;min-width:160px}
#sp-short-status a{color:var(--accent);font-weight:700;text-decoration:none}
#sp-short-status a:hover{color:#b91c1c;text-decoration:underline}
.toolbar{justify-content:space-between;margin:.4rem 0 1rem}
.toolbar .switch{font-size:.9rem;color:#374151}
.toolbar .btn{min-width:150px}
#sp-hourly{width:100%;height:170px;min-height:170px;border:1px solid #e5e7eb;border-radius:10px;background:#fff}
.weather-legend{display:flex;gap:1rem;align-items:center;flex-wrap:wrap;margin-top:.6rem;font-size:.85rem;color:#374151}
.weather-legend span{display:inline-flex;align-items:center;gap:.4rem}
.weather-legend i{display:inline-block;width:22px;height:3px;border-radius:4px;background:#ef4444}
.weather-legend i.line{background:#ef4444;height:3px;width:26px}
.weather-legend i.bar{width:14px;height:14px;border-radius:4px}
.weather-legend i.bar.weak{background:#c7d2fe}
.weather-legend i.bar.medium{background:#60a5fa}
.weather-legend i.bar.heavy{background:#1e3a8a}
.sunshine-block{margin-top:1.2rem}
.sunshine-block h3{margin:0 0 .6rem;font-size:1rem;font-weight:600;color:#b45309}
.sunshine-canvas{height:160px;min-height:160px;background:#fffbeb;border:1px solid #fcd34d}
.sunshine-legend{margin-top:.55rem;color:#b45309}
.sunshine-legend span{color:#b45309;font-weight:500}
.sunshine-legend i.bar{background:#fde68a}
.sunshine-legend i.bar.sun-weak{background:#fef3c7}
.sunshine-legend i.bar.sun-medium{background:#fcd34d}
.sunshine-legend i.bar.sun-strong{background:#f59e0b}
.contact-card{margin-top:1.2rem}
.contact-card h3{margin-top:0}
.contact-card .input{width:100%}
.input.textarea{min-height:110px;resize:vertical}
.contact-roles{display:flex;flex-direction:column;gap:.75rem;margin-top:.85rem}
.contact-role-row{display:grid;grid-template-columns:110px repeat(2,minmax(0,1fr));align-items:center;gap:.75rem;padding:.85rem;border:1px solid #e2e8f0;border-radius:12px;background:#f8fafc}
.contact-role-label{font-weight:600;color:#0f172a}
.contact-role-row .input{width:100%}
.contact-notes{margin-top:1.2rem}
.contact-notes-grid{display:grid;gap:.75rem}
.contact-note{display:flex;flex-direction:column;gap:.45rem}
.contact-note-label{font-size:.85rem;font-weight:600;color:#475569}
.contact-note textarea{min-height:110px;resize:vertical;font-family:inherit}
.contact-schedule{margin-top:1.2rem;display:flex;flex-direction:column;gap:.85rem}
.slot-list{display:flex;flex-direction:column;gap:.75rem}
.slot-empty{padding:.75rem;border:1px dashed #cbd5f5;border-radius:12px;background:#f8fafc;color:#475569;font-size:.9rem;text-align:center}
.slot-item{border:1px solid #cbd5f5;border-radius:14px;background:#fff;box-shadow:0 1px 3px rgba(15,23,42,.08);padding:.9rem;display:flex;flex-direction:column;gap:.55rem}
.slot-item-header{display:flex;align-items:center;justify-content:space-between;gap:.75rem}
.slot-item-title{font-weight:600;color:#0f172a;font-size:1rem}
.slot-status-badge{display:inline-flex;align-items:center;gap:.35rem;padding:.25rem .65rem;border-radius:999px;font-size:.72rem;font-weight:600;text-transform:uppercase;letter-spacing:.04em}
.slot-item-meta{font-size:.88rem;color:#334155}
.slot-item-location{font-size:.85rem;color:#1f2937;font-weight:500}
.slot-item-author{font-size:.78rem;color:#475569}
.slot-item-conflict{font-size:.78rem;font-weight:600;color:#b91c1c}
.slot-item--conflict{border-style:dashed}
.slot-actions{display:flex;flex-wrap:wrap;gap:.55rem}
.slot-actions .btn{min-width:130px;flex:1}
.slot-action-export{color:#0f172a;border-color:#cbd5f5}
.slot-status-proposed{background:#f8fafc;border-color:#cbd5f5}
.slot-status-proposed .slot-status-badge{background:#e2e8f0;color:#1f2937}
.slot-status-confirmed{background:#dcfce7;border-color:#16a34a}
.slot-status-confirmed .slot-status-badge{background:#16a34a;color:#f0fdf4}
.slot-status-rejected{background:#fee2e2;border-color:#b91c1c}
.slot-status-rejected .slot-status-badge{background:#b91c1c;color:#fef2f2}
.slot-form{background:#f8fafc;border:1px solid #e2e8f0;border-radius:12px;padding:1rem;display:flex;flex-direction:column;gap:.85rem}
.slot-form-row{display:grid;gap:.75rem;grid-template-columns:repeat(auto-fit,minmax(140px,1fr))}
.slot-field{display:flex;flex-direction:column;gap:.35rem}
.slot-field-label{font-size:.85rem;font-weight:600;color:#475569}
.slot-field-wide{grid-column:span 2}
.slot-field-actions{display:flex;flex-direction:column;justify-content:flex-end;align-items:stretch;gap:.35rem}
.slot-field-actions .btn{width:100%}
.slot-form-error{display:none;font-size:.85rem;font-weight:600;color:#b91c1c}
@media(min-width:860px){.contact-notes-grid{grid-template-columns:repeat(3,minmax(0,1fr))}}
@media(max-width:760px){
  .contact-role-row{grid-template-columns:minmax(0,1fr)}
  .contact-role-label{font-size:.9rem}
  .slot-field-wide{grid-column:auto}
}
@media(max-width:600px){
  .slot-actions{flex-direction:column}
  .slot-actions .btn{min-width:0;width:100%}
  .slot-form-row{grid-template-columns:minmax(0,1fr)}
  .slot-field-wide{grid-column:auto}
}
.share-card{margin-top:1.2rem}
.share-card h3{margin-top:0}
@media(max-width:600px){
  .contact-slot-row{grid-template-columns:minmax(0,1fr)}
  .contact-slot-actions{flex-direction:column}
  .contact-slot .btn{width:100%;min-width:0}
}
@media(max-width:640px){
  .route-option{min-width:140px}
  .toolbar{flex-direction:column;align-items:flex-start}
  .toolbar .btn{width:100%}
  .share-row .btn{min-width:140px}
  .sunplanner-share__title{font-size:1.65rem}
}
@media(max-width:780px){
  .glow-info.align-right{text-align:left;align-items:flex-start}

}